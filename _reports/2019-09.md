---
layout: report
year: "2019"
month: "09"
month_name: "September"
title: "Reproducible builds in September 2019"
draft: true
---
#### Upstream patches

The Reproducible Builds project detects, dissects and attempts to fix as many currently-unreproducible packages as possible. We endeavour to send all of our patches upstream where appropriate. In September we wrote a large number of such patches, including:

* Bernhard M. Wiedemann:
    * [`python-keystoneauth1`](https://review.opendev.org/681103) (fix FTBFS in 2020)
    * [`python-iminuit`](https://github.com/scikit-hep/iminuit/pull/355) (merged ; sort python glob/readdir)
    * [`blender`](https://developer.blender.org/D5756) (python date)
    * [`wget2`](https://gitlab.com/gnuwget/wget2/merge_requests/450) (build date was dropped)
    * [`buzztrax`](https://github.com/Buzztrax/buzztrax/pull/88) (shell date)
    * [`gmsh`](https://build.opensuse.org/request/show/731075) (hostname+username)
    * [`enblend-enfuse`](https://build.opensuse.org/request/show/731759) (date+host+user ; partially upstream)
    * [`MozillaThunderbird`](https://build.opensuse.org/request/show/732106) (python date)
    * [`python-openstackdocstheme`](https://build.opensuse.org/request/show/732328) (date, toolchain)
    * [`guile`](https://build.opensuse.org/request/show/732638) (disable parallelism)
    * [`MozillaFirefox`](https://build.opensuse.org/request/show/733089) (make PGO optional)
    * [`latex2html`](https://build.opensuse.org/request/show/733232) (drop latex log file with date)
    * [`python3`](https://build.opensuse.org/request/show/733152) and [`python`](https://build.opensuse.org/request/show/733188) (toolchain, sort readdir)
    * [`python-holidays`](https://github.com/dr-prodigy/python-holidays/pull/235) (merged, fix FTBFS-2020)
    * [`python-ioflo`](https://github.com/ioflo/ioflo/pull/41) (fix FTBFS via cert renewal)
    * [`python-futures`](https://github.com/agronholm/pythonfutures/pull/92) (fix FTBFS)
    * [`ninja`](https://github.com/ninja-build/ninja/pull/1651) (merged, fix FTBFS-j1)
    * [`volk`](https://bugzilla.opensuse.org/show_bug.cgi?id=1152001) (report compile-time CPU-detection)
* Chris Lamb:
    * [#939549](https://bugs.debian.org/939549) filed against [`sdaps`](https://tracker.debian.org/pkg/sdaps) [forwarded](https://github.com/sdaps/sdaps/pull/182) (merged, sort python dictionary)
    * [#939547](https://bugs.debian.org/939547) filed against [`libubootenv`](https://tracker.debian.org/pkg/libubootenv) [forwarded](https://github.com/sbabic/libubootenv/pull/3) (merged, drop absolute path)

#### FIXME

Bernhard M. Wiedemann posted his [monthly Reproducible Builds status update](https://lists.opensuse.org/opensuse-factory/2019-09/msg00244.html) for the [openSUSE](https://opensuse.org/) distribution. Thunderbird and kernel-vanilla packages are among the larger ones to soon become reproducible. Python toolchain patches help with reproducibility of all builds of python modules with C bindings.

* [939546 https://github.com/libguestfs/libnbd/pull/2](forwarded)

* [FIXME](https://www.redhat.com/archives/libguestfs/2019-September/msg00037.html) several libguestfs components got a perl patch to support `SOURCE_DATE_EPOCH` ; by lamby

* [FIXME](https://github.com/redhotpenguin/perl-Archive-Zip/issues/26#issuecomment-529170764) new release 1.65 of the Archive-Zip perl module contains a fix for processing of bzip2 files that will benefit strip-nondeterminism ; via lamby

* [FIXME](https://github.com/systemd/systemd/pull/13482) ; journalctl to use ordered hash ; by Daniel Edgecumbe

* [support SOURCE_DATE_EPOCH in grafana](https://github.com/grafana/grafana/pull/18953)

* [mkinitcpio reproducible](https://github.com/archlinux/mkinitcpio/pull/1/files)

* [A bug was created to track progress on making the Arch Linux iso reproducible](https://bugs.archlinux.org/task/63683?project=6)

* FIXME: [GNU Mes 0.20 released](https://lists.reproducible-builds.org/pipermail/rb-general/2019-September/001649.html)

* [940156 https://github.com/samuelcolvin/pydantic/pull/805](forwarded)

* [#]32849](https://bugs.debian.org/932849) fixed by e29d4c4dca77aea5555aac7a5ea7f665efec688f in dak.git

* [#940234 debian-policy: add a section about source reproducibility](https://bugs.debian.org/940234)

* [LibOCon Bj√∂rn](https://libocon.org/assets/Conference/Almeria/schedule-almeria.pdf)

* [FIXME](https://lists.reproducible-builds.org/pipermail/rb-general/2019-September/001651.html) invitations for the Reproducible Builds summit in December 2019 in Marrakesh were sent.

* [FIXME](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=fe013f8bc160d79c6e33bb66d9bb0cd24949274c) Ben Hutchings added documentation to the Linux kernel about how to make reproducible builds.

* [FIXME](https://media.ccc.de/v/ASG2019-146-rootless-reproducible-hermetic-secure-container-build-showdown#t=407) reproducible builds was part of a presentation by Andrew Martin on the all systems go conference
* [FIXME](https://media.ccc.de/v/ASG2019-155-purely-functional-package-management#t=370) reproducible builds was part of a presentation titled "Purely Functional Package Management" about Nix by Franz Pletz on the all systems go conference

* Vagrant Cascadian will present [There and Back Again, Reproducibly!](https://osem.seagl.org/conferences/seagl2019/program/proposals/671) at [SeaGL](https://seagl.org) in November.

* Vagrant Cascadian presented [Reproducible Toolchains For the Win!](https://gcc.gnu.org/wiki/cauldron2019#cauldron2019talks.Reproducible_Toolchains_For_The_Win) at [GNU Tools Cauldron](https://gcc.gnu.org/wiki/cauldron2019). [video](https://www.youtube.com/watch?v=56nRFxA7lPY).

* Registration for https://reproducible-builds.org/events/Marrakesh2019/ has been openened. Please mail holger@layer-acht.org if you want to attend.

* [FIXME](https://bugs.debian.org/940973)

* FIXME: https://github.com/bitshares/bitshares-gitian added to r-b.o/who

* FIXME: lynxis started working on github.com/system-transparency/build.git

* [FIXME](https://github.com/momalab/ICSREF)

* [FIXME](https://lists.infradead.org/pipermail/openwrt-devel/2019-September/019156.html) Paul Spooren patch for OpenWrt to toolchain/gcc: switch to version 8 by default. Main motivation for this commit is the introduction of `-ffile-prefix-map=` which alows reproducible build path.

* [FIXME](https://lists.infradead.org/pipermail/openwrt-devel/2019-September/019166.html) Paul Spooren patch for OpenWrt to kernel-defaults: ensure SOURCE_DATE_EPOCH on /init.

* Vagrant Cascadian updated diffoscope to versions
[123](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=3ec8c0ca942409da6ce06c38f6d8b6ccfc2a943a)
and
[125](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=3fb581ca9f18fe61e070195f4f8d1a670931b722),
as well as enabling a more complete test suite
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=3eb4adc2c41896c202f3d9131c36160c0a1311e6)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=68620d62f5cd49d6455c351f3a68e3c41dc6ce22)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=6ec872231fdf746bd6e11b97f8a6b3a23498806c)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=af760990e9651be865ccd20b935863d85f605f2e)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=4d83157cd806aeb864664ebb380c19f6be04648c)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=f315673d9e56f4f2398098590ebdc080b63ce8b1)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=3244b64f708a5b3161bfada2043718c004f199a4)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=30696ea2b27747e047589527572ef39e60555047)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=ba7bd6c62ddaab4d5623fb149b47579e13a9e5f5)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=bc5aa386675cb39aaf034d73af406c3ddffb4cb0)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=d54ca1cd4d77a945ad07dba34a69c23a3e57b3f1)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=68fea604b06a6d1d461fa856a6379bb49500fb3b)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=37ecf2d905e6afc555150ffe51095415a0d27b89)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=3dd20da0cbdd8b273b5b76b6b8f95aed28c8d0e9)
[...](https://git.savannah.gnu.org/cgit/guix.git/commit/?id=9f74bd317f00c55ab1fa30683c1668a19bf17eab)
in the [GNU Guix](https://guix.gnu.org/) distribution.
